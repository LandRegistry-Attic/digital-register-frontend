<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Redirection to "Worldpay"</title>

	<script type="text/Javascript">
		 window.onload = function() { document.getElementById('redirect').submit();}
	</script>
</head>
<body>
    <h1>Redirection to "Worldpay"</h1>
    <p>You are about to be redirected to the WorldPay transaction page to proceed with your purchase.</p>
    <p>If you are not redirected within 30 seconds, please click the "Continue" button below.</p>
    <br/>
    <br/>
	<form  id="redirect" action="{{worldpay_params.worldpay_redirect_url}}" method="POST">

        <!-- mandatory parameters passed in from "payment request" form -->
        <input type="hidden" id="cartId" name="cartId" value="{{worldpay_params.cartid}}">
        <input type="hidden" id="amount" name="amount"	value="{{worldpay_params.amount}}">
        <input type="hidden" id="desc" name="desc" value="{{worldpay_params.desc}}">
        <input type="hidden" id="name" name="name" value="{{worldpay_params.forenames}} {{worldpay_params.surname}}">
        <input type="hidden" id="email" name="email" value="{{worldpay_params.email}}">
        <input type="hidden" id="address" name="address" value="{{worldpay_params.address}}">
        <input type="hidden" id="postcode" name="postcode" value="{{worldpay_params.postcode}}">

        <!-- custom parameters passed in from "payment request" form -->
        <input type="hidden" id="MC_timestamp" name="MC_timestamp" value="{{worldpay_params.mc_timestamp}}">
        <input type="hidden" id="MC_purchaseType" name="MC_purchaseType" value="{{worldpay_params.mc_purchasetype}}">
        <input type="hidden" id="MC_titleNumber" name="MC_titleNumber"	value="{{worldpay_params.mc_titlenumber}}">
        <input type="hidden" id="MC_searchType" name="MC_searchType" value="{{worldpay_params.mc_searchtype}}">

        <!-- mandatory parameters, from configuration file + environment -->
        <input type="hidden" id="instId" name="instId"	value="{{worldpay_params.wp_inst_id}}">
        <input type="hidden" id="authMode" name="authMode" value="{{worldpay_params.wp_auth_mode}}">
        <input type="hidden" id="accId1" name="accId1" value="{{worldpay_params.wp_account_id}}">
        <input type="hidden" id="currency" name="currency" value="{{worldpay_params.wp_auth_curr}}">
        <input type="hidden" id="testMode" name="testMode" value="{{worldpay_params.wp_test_mode}}">
        <input type="hidden" id="country" name="country" value="{{worldpay_params.wp_default_country}}">

        <!-- custom parameters, from configuration file -->
        <input type="hidden" id="MC_portalInd" name="MC_portalInd" value="{{worldpay_params.mc_portalind}}">
        <input type="hidden" id="MC_callbackUrl" name="MC_callbackUrl"	value="{{worldpay_params.wp_callback_server_url}}">
        <input type="hidden" id="C_returnURL" name="C_returnURL" value="{{worldpay_params.action_url1}}">
        <input type="hidden" id="C_returnURLCancel" name="C_returnURLCancel" value="{{worldpay_params.action_url2}}">
        <input type="hidden" id="C_returnURLCallback" name="C_returnURLCallback" value="{{worldpay_params.action_url3}}">
        <div class="nav">
            <input type="submit" class="last"  value="Continue &raquo"/>
        </div>
    </form>
</body>
</html>